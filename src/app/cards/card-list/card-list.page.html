<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title style="font-weight: bold;">
      Card List
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div *ngIf="step === 1">
    <div class="card_credit_design_all">
      <div class="card_credit_design">
        <div class="card_credit_img">
          <img src="assets/image/card_bg1.png">
          <div class="card_credit_design_text">
            <h2>Silver Card <span>Virtual Card</span></h2>
            <div class="visa_logo_incard"><img src="assets/image/visa_newlogo.png"></div>
            <h6>Available Balance<span>$7890.00</span></h6>
            <h3>5106 4618 7380 5363 </h3>
            <h4>Valid Thru 01/26 </h4>
            <h5>CVV 790 </h5>
            <div class="div_select">
              <ion-radio slot="start" value="option1"></ion-radio>
            </div>
          </div>
  
        </div>
        <div class="card_credit_design_button_more">
        <button>More Details</button></div>
      </div>
  
      <div class="card_credit_design">
        <div class="card_credit_img">
          <img src="assets/image/card_bg1.png">
          <div class="card_credit_design_text">
            <h2>Silver Card <span>Virtual Card</span></h2>
            <div class="visa_logo_incard"><img src="assets/image/visa_newlogo.png"></div>
            <h6>Available Balance<span>$7890.00</span></h6>
            <h3>5106 4618 7380 5363 </h3>
            <h4>Valid Thru 01/26 </h4>
            <h5>CVV 790 </h5>
            <div class="div_select"> 
              <ion-radio slot="start" value="option1"></ion-radio>
            </div> 
          </div>
  
        </div>
        <div class="card_credit_design_button_more">
        <button>More Details</button></div>
      </div>
      </div>
    <div class="wrapper">
      <div class="cc mastercard" *ngFor="let data of cardList" (click)="selectedCard = data">
        <div *ngIf="selectedCard?.card_type_id == data.card_type_id" class="check_applyicon"><img src="assets/image/check__mark.png"> </div>
        <svg width="295" height="87">
          <path d="M 0 0 C 50 50 250 0 300 87"></path>
        </svg>
        <div class="container">
          <div class="name">{{data.card_type === '1'?'Virtual Card':'Physical Card'}}</div>
          <div class="circuit">
            <div class="logo_card"> <img style="width: 199px !important;opacity: 0.1;" src="/assets/image/newlogo.png">
            </div>
            <img style="width: 90px !important;" src="/assets/image/payicon.png">
          </div>
        </div>
        <div class="holder">
          <span class="name">{{data.card_sub_type === '1'?'Metal card':'Plastic card'}}</span>
          <p style="padding: 0;margin: 0;font-size: 10px;text-align: left;margin-bottom: 10px;" (click)="step = 2">More details</p>
          <div 
            style="bottom: 0; width: 78px; position: absolute; right: 0; float: right; text-align: right; background: rgb(79, 55, 5); border-radius: 200px 8px 52px 1px;">
            <p style="color: #fff; font-weight: bold; padding: 2px 3px 6px; margin: 0; font-size: 14px; text-align: right;">
              <span style="float: left;width: 100%;font-size: 10px;font-weight: normal;color: #fff;text-align: right;">Fee</span>
              {{data.total_card_fee}}USD
            </p>
          </div>
        </div>
      </div>
    </div>
    <div class="custom-button-container " style=" width: 100%; float: left;" *ngIf="selectedCard?.card_type_id">
      <ion-button expand="full" color=" " shape=" " (click)="apply()" style="font-weight: bold; text-transform: unset;  max-width: 700px; margin: auto; height: 50px; background-color: #b0893a;">Next</ion-button>
    </div>
  </div>
  <div *ngIf="step === 2">
    <div [innerHtml]="selectedCard.description"></div>
    <div class="custom-button-container " style=" width: 100%; float: left" *ngIf="selectedCard">
      <ion-button expand="full" color=" " shape=" " (click)="step = 1" style="font-weight: bold; text-transform: unset;  max-width: 700px; margin: auto; height: 50px; background-color: #b0893a;">Back</ion-button>
    </div>
  </div>
</ion-content>